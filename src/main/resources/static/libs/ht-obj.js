!function(e,A,u){"use strict";var j="ht",T=e[j],C=null,t=Math,X=t.abs,B=t.max,s=Number.MAX_VALUE,f=T.Default,Z=f.getInternal(),m=f.clone,o=Z.vec3TransformMat4,P=Z.appendArray,n=function(){var W=/v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,v=/vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,_=/vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,h=function(d,H){return H=parseInt(H),H>=0?d[H-1]:d[H+d.length]},r=function(r,b,c,E,H,z){if(r.vs){var p=h(b,E),G=h(b,H),U=h(b,z),O=c.matrix,B=r.vs;if(c.flipFace){var k=G;G=U,U=k}O?(P(B,o(m(p),O)),P(B,o(m(G),O)),P(B,o(m(U),O))):(P(B,p),P(B,G),P(B,U))}},a=function(R,J,C,s,N,f){if(R.vs){var V=h(J,s),S=h(J,N),p=h(J,f),D=C.flipY;if(C.flipFace){var $=S;S=p,p=$}R.uv.push(V[0],D?1-V[1]:V[1],S[0],D?1-S[1]:S[1],p[0],D?1-p[1]:p[1])}},S=function(K,B,W,y,O,g){if(K.vs){var r=h(B,y),F=h(B,O),q=h(B,g),V=W.normalMatrix,f=K.ns;if(W.flipFace){var E=F;F=q,q=E}V?(P(f,o(m(r),V)),P(f,o(m(F),V)),P(f,o(m(q),V))):(P(f,r),P(f,F),P(f,q))}},z=function(k,_,s,J,n,i,W,g){var f=J&&J.length&&g;i[3]===u?(r(k,_,n,i[0],i[1],i[2]),W&&a(k,s,n,W[0],W[1],W[2]),f&&S(k,J,n,g[0],g[1],g[2])):(r(k,_,n,i[0],i[1],i[3]),r(k,_,n,i[1],i[2],i[3]),W&&(a(k,s,n,W[0],W[1],W[3]),a(k,s,n,W[1],W[2],W[3])),f&&(S(k,J,n,g[0],g[1],g[3]),S(k,J,n,g[1],g[2],g[3])))},k=function(P,L,U,T){var A,S,Z,D,h,$,M,e=s,Q=s,k=s,K=-s,w=-s,d=-s;for(A in P)for($=P[A].vs,M=$.length,S=0;M>S;S+=3)Z=$[S+0],D=$[S+1],h=$[S+2],e>Z&&(e=Z),Q>D&&(Q=D),k>h&&(k=h),Z>K&&(K=Z),D>w&&(w=D),h>d&&(d=h);if(U){var p=e+(K-e)/2,W=Q+(w-Q)/2,j=k+(d-k)/2;for(A in P)for($=P[A].vs,M=$.length,S=0;M>S;S+=3)$[S+0]-=p,$[S+1]-=W,$[S+2]-=j}var u,F,t;U?(u=K-e,F=w-Q,t=d-k):(u=2*B(X(e),X(K)),F=2*B(X(Q),X(w)),t=2*B(X(k),X(d))),T.rawS3=[u,F,t];for(A in P){if($=P[A].vs,L)for(M=$.length,S=0;M>S;S+=3)u&&($[S+0]/=u),F&&($[S+1]/=F),t&&($[S+2]/=t);P[A].rawS3=T.rawS3}};return function(e,p,F){if(!e)return C;(Z.isString(p)||p instanceof ArrayBuffer)&&(p=K(p)),F||(F={}),F.flipY==C&&(F.flipY=!0),(F.s3||F.r3||F.t3||F.mat)&&(F.matrix=Z.createWorldMatrix(F.mat,F.s3,F.r3,F.rotationMode,F.t3));var d,i,j,L,J,R,X=[],b=[],A=F.ignoreNormal?C:[],r=F.reverseFlipMtls,o={vs:[],uv:[],ns:A?[]:C},N={htdefault:o},D=new Y(e);for(A&&F.matrix&&(F.normalMatrix=Z.createNormalMatrix(F.matrix));null!=(i=D.stepNext());)if(i=i.trim(),0!==i.length&&"#"!==i.charAt(0))if(j=W.exec(i))X.push([parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3])]);else if(j=v.exec(i))b.push([parseFloat(j[1]),parseFloat(j[2])]);else if(A&&(j=_.exec(i)))F.flipFace?A.push([parseFloat(-j[1]),parseFloat(-j[2]),parseFloat(-j[3])]):A.push([parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3])]);else if("f"===i[0]){var u=i.split(/\s+/);if(u.length<4)continue;var g,d,n,E=[],h=[],y=[];for(d=1,n=u.length;n>d;d++)g=u[d].split("/"),E.push(parseInt(g[0],10)),g.length>1&&g[1].length>0&&y.push(parseInt(g[1],10)),g.length>2&&g[2].length>0&&h.push(parseInt(g[2],10));for(d=0,n=E.length-2;n>d;d++)z(o,X,b,A,F,[E[0],E[d+1],E[d+2]],y.length?[y[0],y[d+1],y[d+2]]:C,h.length?[h[0],h[d+1],h[d+2]]:C)}else if(/^usemtl /.test(i)&&(L=i.substring(7).trim(),!(o=N[L]))){if(o={name:L,vs:[],uv:[],ns:A?[]:C},F.ignoreMtls&&F.ignoreMtls.indexOf(L)>=0&&delete o.vs,(F.reverseFlip||"*"===r||r&&r.indexOf(L)>=0)&&(o.reverseFlip=!0),p&&(J=p[L],J&&(F.ignoreColor||(o.color=J.kd),!F.ignoreTransparent&&J.d>0&&J.d<1&&(o.transparent=!0,o.opacity=J.d),!F.ignoreImage&&(R=J.map_kd)))){R=R.split(" ");var c=-1;for(d=0;d<R.length;d++)"-o"===R[d]?(o.uvOffset=[parseFloat(R[d+1]),parseFloat(R[d+2])],d+=2,c=d):"-s"===R[d]&&(o.uvScale=[parseFloat(R[d+1]),parseFloat(R[d+2])],d+=2,c=d);o.image=(F.prefix||"")+R.splice(c+1).join(" ")}N[L]=o}var B=[];for(var T in N){var P=N[T].vs;P&&0!==P.length||B.push(T)}B.forEach(function($){delete N[$]}),k(N,F.cube,F.center,F);var V=F.shape3d;if(V){var m=[];for(var L in N){var o=N[L];m.rawS3=o.rawS3,m.push(o)}f.setShape3dModel(V,m)}return N}}(),K=function(j){var N={};if(j)for(var g,f,C,_,T,O,o=new Y(j),b=/\s+/;null!=(f=o.stepNext());)f=f.trim(),0!==f.length&&"#"!==f.charAt(0)&&(C=f.indexOf(" "),_=(C?f.substring(0,C):f).toLowerCase(),T=(C?f.substring(C+1):"").trim(),"newmtl"===_?N[T]=g={name:T}:g&&("ka"===_||"kd"===_||"ks"===_?(O=T.split(b,3),g[_]=[parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2]),1]):g[_]="ns"===_||"d"===_?parseFloat(T):T));return N},Y=function(Q){var V=this;if(Q instanceof ArrayBuffer){V.isBuffer=!0;var T=0,S=new Uint8Array(Q),t=S.length,r=S.length;V.stepNext=function(){for(var w,M,o=T;t>T;)if(w=S[T],M=w>>4,12===M||13==M)T+=2;else if(14===M)T+=3;else if(T++,10===w)return String.fromCharCode.apply(null,S.subarray(o,T));return T>o?String.fromCharCode.apply(null,S.subarray(o,T)):null}}else{V.isBuffer=!1;var f=Q.split("\n"),e=0,r=f.length;V.stepNext=function(){return r>e?f[e++]:null}}};Y.prototype={},Y.prototype.constructor=Y,Z.addMethod(f,{loadObj:function(A,Q,u){u=u||{},/(MSIE |Trident\/|Edge\/)/.test(e.navigator.userAgent)&&(u.responseType="arraybuffer"),f.xhrLoad(Q?[A,Q]:[A],function(o){var N,X=u.finishFunc,U=u.shape3d,x=o?n(o[0],o[1],u):null;if(x){if(U)N=f.getShape3dModel(U);else{N=[];for(var S in x){var j=x[S];N.rawS3=j.rawS3,N.push(j)}}X&&X(x,N,N.rawS3)}else X&&X(null)},u)},parseObj:function(h,r,U){return n(h,r,U)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);