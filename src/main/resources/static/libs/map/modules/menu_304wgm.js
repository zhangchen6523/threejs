/**/_jsload2&&_jsload2('menu', 'z.object.extend(ec.prototype,{xa:function(a,b){if(this.P)return t;this.M=a;this.rl=b||q;this.Ea();var c=this,e=a.R.wc;b&&b.K.ef&&(e="pointer");this.P.style.cursor=e;this.Ad&&(this.Ad.style.cursor=e);z.V(document,"mousedown",function(){c.P&&c.$()});z.V(this.P,"click",function(a){c.$();na(a)});e=this.m.Ya;e||(e=a.Ya);this.rl?this.rl.addEventListener("rightclick",function(a){c.P&&c.wI(a)}):a.addEventListener("rightclickex",function(a){c.P&&(!a.sb&&!a.Db)&&c.wI(a)});for(var e=0,f=this.Aa.length;e<f;e++)"menuitem"== this.Aa[e].Lb&&this.Aa[e].xa(a,this),"divider"==this.Aa[e].Lb&&(this.De[this.Aa[e].Bj].U=Bb(this.P,"<div class=\'BMap_cmDivider\'></div>"));this.qr()},kb:function(){this.M&&(this.xa(this.M,this.rl),this.Bh&&(this.Bh=t,this.show()))},remove:function(){this.P&&(this.P.parentNode.removeChild(this.P),this.P=q);this.Ad&&(this.Ad.parentNode.removeChild(this.Ad),this.Ad=q);for(var a=0,b=this.Aa.length;a<b;a++)"menuitem"==this.Aa[a].Lb&&(this.Aa[a].P=q);this.M=this.rl=q},Ea:function(){this.P=Bb(this.M.Ya,"<div unselectable=\'on\'></div>"); this.P.className="BMap_contextMenu";var a=this.P.style;a.font="12px "+H.fontFamily;9>z.fa.na?this.Ad=Bb(this.M.Ya,"<div class=\'BMap_cmShadow\'></div>"):a.BU=a.QO=a.WebkitBoxShadow="1px 2px 6px #666";return this.P},Pv:function(a){if(a&&!("menuitem"!=a.Lb||""==a.Tg||0>=a.Pi)){for(var b=0,c=this.Aa.length;b<c;b++)if(this.Aa[b]===a)return;this.Aa.push(a);this.Gf.push(a);this.M&&(a.xa(this.M,this),z.U.eb(a.Xc(),"BMap_cmLstItem"),1<this.Aa.length?"menuitem"==this.Aa[this.Aa.length-2].Lb&&z.U.qc(this.Aa[this.Aa.length- 2].Xc(),"BMap_cmLstItem"):"menuitem"==this.Aa[0].Lb&&z.U.eb(this.Aa[0].Xc(),"BMap_cmFstItem"),this.qr())}},removeItem:function(a){if(a&&"menuitem"==a.Lb){for(var b=0,c=this.Aa.length;b<c;b++)this.Aa[b]===a&&(this.Aa[b].remove(),this.Aa.splice(b,1),c--);b=0;for(c=this.Gf.length;b<c;b++)this.Gf[b]===a&&(this.Gf[b].remove(),this.Gf.splice(b,1),c--);this.P&&(0<this.Aa.length&&"menuitem"==this.Aa[this.Aa.length-1].Lb&&z.U.eb(this.Aa[this.Aa.length-1].Xc(),"BMap_cmLstItem"),this.qr())}},mB:function(){this.Aa.push({Lb:"divider", Bj:this.De.length});this.De.push({U:q});this.P&&(this.De[this.De.length-1].U=Bb(this.P,"<div class=\'BMap_cmDivider\'></div>"),this.qr())},uE:function(a){if(this.De[a]){this.De[a].U&&this.De[a].U.parentNode&&this.De[a].U.parentNode.removeChild(this.De[a].U);for(var b=0,c=this.Aa.length;b<c;b++)this.Aa[b]&&("divider"==this.Aa[b].Lb&&this.Aa[b].Bj==a)&&(this.Aa.splice(b,1),c--),this.Aa[b]&&("divider"==this.Aa[b].Lb&&this.Aa[b].Bj>a)&&this.Aa[b].Bj--;this.De.splice(a,1);this.qr()}},ua:function(a,b){this.P.style.left= a+"px";this.P.style.top=b+"px";this.Ad&&(this.Ad.style.left=a+1+"px",this.Ad.style.top=b+2+"px")},show:function(){if(this.Bh!=p&&0!=this.Gf.length){this.Bh=p;this.P&&(this.P.style.visibility="visible");this.Ad&&(this.Ad.style.visibility="visible");var a=new Q("onopen");a.point=this.ow;a.pixel=this.Fr;this.dispatchEvent(a)}},$:function(){if(this.Bh!=t){this.Bh=t;this.P&&(this.P.style.visibility="hidden");this.Ad&&(this.Ad.style.visibility="hidden");var a=new Q("onclose");a.point=this.ow;a.pixel=this.Fr; this.dispatchEvent(a)}},PZ:function(a){if(a&&(this.m.cursor=a,this.P&&(this.P.style.cursor=this.m.cursor),this.Ad))this.Ad.style.cursor=this.m.cursor},qr:function(){this.P&&this.Ad&&(this.Ad.style.width=this.P.offsetWidth+"px",this.Ad.style.height=this.P.offsetHeight+"px")},wI:function(a){if(0!=this.Gf.length){this.Fr=a.nb;this.ow=this.M.Gb(this.Fr);var b=this.Xc().offsetHeight,c=this.Xc().offsetWidth,e=a.nb.x,f=a.nb.y;a.nb.x+c>this.M.width&&(e=a.nb.x-c);a.nb.y+b>this.M.height&&(f=a.nb.y-b);this.ua(e, f);this.show()}}});V(Vf,{addItem:Vf.Pv,removeItem:Vf.removeItem,addSeparator:Vf.mB,removeSeparator:Vf.uE});z.object.extend(hc.prototype,{xa:function(a,b){if(this.P)return t;this.M=a;this.wh=b;b.Xc()&&(this.Ea(),this.ga(),this.zh||(this.zh=p,this.disable()));return p},remove:function(){this.P&&(this.P.parentNode.removeChild(this.P),this.P=q);this.M=this.wh=q},kb:function(){this.wh&&this.M&&this.xa(this.M,this.wh)},Ea:function(){var a=this.m.km?"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+ this.m.km+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Tg+"</span></div>":"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><span>"+this.Tg+"</span></div>";this.P=Bb(this.wh.Xc(),a);this.m.km?(this.Nu=this.P.firstChild,this.lr=this.P.lastChild):this.lr=this.P;a=this.P.style;a.padding="2px 6px";a.margin="0 2px";a.fontSize="14px";a.MozUserSelect="none";a.lineHeight="17px";a.width=this.m.width+"px";this.zh?(a.color="#000",a.cursor="pointer"):(a.color="#aaa",a.cursor= this.M.R.wc);return this.P},ga:function(){var a=this;z.V(this.P,"click",function(b){a.zh?a.Ny&&a.Ny.call&&a.Ny.call(a,a.wh.ow,a.wh.Fr,a.wh.rl):na(b)});z.V(this.P,"mousedown",function(a){na(a)});z.V(this.P,"mouseover",function(){a.zh&&(a.P.style.color="#6688cc")});z.V(this.P,"mouseout",function(){a.zh&&(a.P.style.color="#000")})},wt:function(a){a&&(this.Tg=a+"",this.lr&&(this.lr.innerHTML="<span>"+this.Tg+"</span>"))},Tb:function(a){a&&(this.m.km=a,this.Nu?this.Nu.style.background="url("+a+")":(this.P.innerHTML= "<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this.m.km+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Tg+"</span></div>",this.Nu=this.P.firstChild,this.lr=this.P.lastChild))},enable:function(){this.zh=p;this.P&&(this.P.style.color="#000",this.P.style.cursor="pointer")},disable:function(){this.zh=t;this.P&&(this.P.style.color= "#aaa",this.P.style.cursor=this.M.R.wc)}});V(Wf,{setIcon:Wf.Tb,setText:Wf.wt,enable:Wf.enable,disable:Wf.disable}); ');
